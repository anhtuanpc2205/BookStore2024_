@model BookStore2024.ViewModels.LoginVM

<div class="tg-userlogin">
    <div class="dropdown tg-themedropdown tg-currencydropdown">
        <a id="tg-userlogin" class="tg-btnthemedropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            @if (Context.User.Identity.IsAuthenticated)
            {
                <figure><img src="@User.FindFirst("ProfileImageUrl").Value" alt="User img" style="height: 3em"></figure>
                <span>@Context.User.Identity.Name</span>
                <ul class="dropdown-menu tg-themedropdownmenu">
                    <li>
                        <a asp-action="LogOut" asp-controller="User">
                            <i class="glyphicon glyphicon-log-out"></i>
                            <span>Log out</span>
                        </a>
                        <a asp-action="Profile" asp-controller="User">
                            <i class="glyphicon glyphicon-info-sign"></i>
                            <span>Profile Info</span>
                        </a>
                    </li>
                    <li>
                        <a asp-area="Admin" asp-action="Index" asp-controller="Home">
                            <i class="glyphicon glyphicon-briefcase"></i>
                            <span>Login as admin</span>
                        </a>
                    </li>
                </ul>
            }
            else
            {
                <figure>
                    <i class="glyphicon glyphicon-user"></i>
                </figure>
                <span>User</span>
                <ul class="dropdown-menu tg-themedropdownmenu">
                    <li>
                        <a>
                            <i class="glyphicon glyphicon-log-in"></i>
                            <span onclick="document.getElementById('login-form-id').style.display='block'">Log in</span>
                        </a>
                        <a asp-action="Register" asp-controller="User">
                            <i class="glyphicon glyphicon-plus"></i>
                            <span>Register</span>
                        </a>
                    </li>
                    <li>
                        <a asp-area="Admin" asp-action="Index" asp-controller="Home">
                            <i class="glyphicon glyphicon-briefcase"></i>
                            <span>Login as admin</span>
                        </a>
                    </li>
                </ul>
            }

        </a>
       
    </div>
</div>
<div class="form-login">
    <div id="login-form-id" class="modal">
        
        @using (Html.BeginForm("Login", "User", FormMethod.Post, new { @class = "modal-content animate", ViewBag.ReturnUrl }))
        {
            
            <div style="min-height:1.5vh;border-top-left-radius:4px; border-top-right-radius: 4px; background-color:#71AD44;"></div>

            <div class="container">
                    <label for="uname"><b>Email</b></label>
                    <span asp-validation-for="Email" class="text-danger"></span>
                    @Html.TextBoxFor(x => x.Email, new { @type = "email", placeholder = "Email" })

                    <label for="psw"><b>Password</b></label>
                    @Html.TextBoxFor(x => x.Password, new { @type = "password", placeholder = "Password" })
                    <span asp-validation-for="Password" class="text-danger"></span>

                    <button type="submit" class="loginbtn">Login</button>
                    <label>
                        <input type="checkbox" checked="checked" name="remember">Remember me
                    </label>
            </div>

            <div class="container">
                <a href="#"><div class="psw">Forgot password?</div></a>
             </div>

                <button type="button" onclick="document.getElementById('login-form-id').style.display='none'" class="closebtn glyphicon glyphicon-remove"></button>
            
        }
    </div>
</div>